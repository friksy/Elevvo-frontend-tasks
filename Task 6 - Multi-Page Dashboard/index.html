<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Task 6 - Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:"Poppins",sans-serif;background:#f3f4f6;color:#1f2937}

    .layout{display:flex;min-height:100vh}
    .sidebar{width:240px;background:#111827;color:#fff;flex-shrink:0;transition:transform .3s ease-in-out;position:fixed;top:0;left:0;bottom:0;z-index:1000;overflow-y:auto}
    .sidebar h2{padding:20px;text-align:center;background:#1f2937;color:#38bdf8;font-size:1.3rem}
    .sidebar a{padding:14px 20px;color:#d1d5db;text-decoration:none;display:block;transition:.2s;font-weight:500}
    .sidebar a:hover{background:#1f2937;color:#38bdf8}
    .sidebar.mobile-hidden{transform:translateX(-100%)}

    .main{flex:1;display:flex;flex-direction:column;margin-left:240px;transition:margin-left .3s ease-in-out;width:100%}
    .main.full{margin-left:0}

    .topbar{background:#fff;padding:14px 20px;display:flex;justify-content:space-between;align-items:center;
      box-shadow:0 2px 8px rgba(0,0,0,.05);position:sticky;top:0;z-index:500}
    .toggle-btn{background:none;border:none;font-size:1.6rem;cursor:pointer;display:none}

    .content{flex:1;padding:20px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
    .card{background:#fff;padding:20px;border-radius:14px;box-shadow:0 4px 14px rgba(0,0,0,.05);text-align:center}
    .card h3{font-size:1.5rem;margin-bottom:6px;color:#2563eb}

    .activities{margin-top:28px}
    .activity{background:#fff;padding:14px 16px;margin-bottom:12px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}

    .projects-table{width:100%;border-collapse:collapse;background:#fff;margin-top:24px;border-radius:14px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.05)}
    .projects-table th,.projects-table td{padding:14px;text-align:left;border-bottom:1px solid #e5e7eb;font-size:.95rem}
    .status{padding:6px 12px;border-radius:10px;font-size:.8rem;font-weight:600}
    .active{background:#dcfce7;color:#166534}
    .pending{background:#fef9c3;color:#92400e}
    .completed{background:#e0f2fe;color:#075985}

    .profile{max-width:480px;background:#fff;padding:20px;border-radius:16px;box-shadow:0 4px 14px rgba(0,0,0,.05)}
    .profile input{width:100%;padding:12px;margin-bottom:14px;border:1px solid #d1d5db;border-radius:10px;font-size:1rem}
    .profile button{width:100%;padding:14px;background:#2563eb;color:#fff;border:none;border-radius:10px;font-weight:600;cursor:pointer}
    .profile button:hover{background:#1d4ed8}

    /* Mobile behavior */
    @media(max-width:768px){
      .sidebar{transform:translateX(-100%)}
      .sidebar.show{transform:translateX(0)}
      .main{margin-left:0}
      .toggle-btn{display:block}
    }
  </style>
</head>
<body>
<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">
function Sidebar({setPage,isMobile,isOpen,setOpen}) {
  return (
    <aside className={`sidebar ${isMobile? (isOpen?"show":"mobile-hidden"):""}`}>
      <h2>My Dashboard</h2>
      <a href="#" onClick={e=>{e.preventDefault();setPage("overview");if(isMobile) setOpen(false)}}>Overview</a>
      <a href="#" onClick={e=>{e.preventDefault();setPage("projects");if(isMobile) setOpen(false)}}>Projects</a>
      <a href="#" onClick={e=>{e.preventDefault();setPage("profile");if(isMobile) setOpen(false)}}>Profile</a>
    </aside>
  )
}

function Topbar({toggle,isMobile}) {
  return (
    <div className="topbar">
      {isMobile && <button className="toggle-btn" onClick={toggle}>â˜°</button>}
      <div>Dashboard</div>
    </div>
  )
}

function Overview(){
  React.useEffect(()=>{
    const ctx=document.getElementById("earnChart")
    if(ctx){
      new Chart(ctx,{type:"bar",
        data:{labels:["Jan","Feb","Mar","Apr"],datasets:[{label:"Earnings",data:[400,800,650,1200],backgroundColor:"#2563eb"}]},
        options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}})
    }
  },[])
  return(
    <div className="content">
      <h2>Overview</h2>
      <div className="cards">
        <div className="card"><h3>7</h3><p>Total Projects</p></div>
        <div className="card"><h3>$1,200</h3><p>Earnings</p></div>
        <div className="card"><h3>3</h3><p>Tasks Due</p></div>
        <div className="card"><h3>5</h3><p>Recent Activities</p></div>
      </div>
      <div style={{height:"260px",marginTop:"30px"}}>
        <canvas id="earnChart"></canvas>
      </div>
      <div className="activities">
        <h3>Recent Activity</h3>
        <div className="activity">âœ” Completed Logo Project</div>
        <div className="activity">ðŸ’° Received $300 Payment</div>
        <div className="activity">ðŸ“Œ New Task Assigned</div>
      </div>
    </div>
  )
}

function Projects(){
  return(
    <div className="content">
      <h2>Projects</h2>
      <table className="projects-table">
        <thead>
          <tr><th>Name</th><th>Status</th><th>Deadline</th></tr>
        </thead>
        <tbody>
          <tr><td>Website Redesign</td><td><span className="status active">Active</span></td><td>25 Aug</td></tr>
          <tr><td>Mobile App</td><td><span className="status pending">Pending</span></td><td>30 Aug</td></tr>
          <tr><td>Logo Design</td><td><span className="status completed">Completed</span></td><td>10 Aug</td></tr>
        </tbody>
      </table>
    </div>
  )
}

function Profile(){
  return(
    <div className="content">
      <h2>Profile</h2>
      <div className="profile">
        <input type="text" defaultValue="Demo User"/>
        <input type="email" defaultValue="demo@mail.com"/>
        <input type="password" placeholder="Password"/>
        <button>Save Changes</button>
      </div>
    </div>
  )
}

function App(){
  const [page,setPage]=React.useState("overview")
  const [isMobile,setIsMobile]=React.useState(window.innerWidth<=768)
  const [open,setOpen]=React.useState(false)

  React.useEffect(()=>{
    const handleResize=()=>{
      setIsMobile(window.innerWidth<=768)
      if(window.innerWidth>768) setOpen(true) // force open on desktop
      else setOpen(false) // closed default on mobile
    }
    handleResize()
    window.addEventListener("resize",handleResize)
    return ()=>window.removeEventListener("resize",handleResize)
  },[])

  return(
    <div className="layout">
      <Sidebar setPage={setPage} isMobile={isMobile} isOpen={open} setOpen={setOpen}/>
      <div className={`main ${!open && isMobile?"full":""}`}>
        <Topbar toggle={()=>setOpen(!open)} isMobile={isMobile}/>
        {page==="overview"&&<Overview/>}
        {page==="projects"&&<Projects/>}
        {page==="profile"&&<Profile/>}
      </div>
    </div>
  )
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>)
</script>
</body>
</html>
